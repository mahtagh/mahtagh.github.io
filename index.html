import React, { useState } from 'react';

// Use lucide-react for icons and font-awesome for a specific icon style.
import { Sparkles, Phone, Mail, Link, Github, Linkedin, MapPin, Layers, FolderCog, Sun, Moon, Briefcase, GraduationCap, Code } from 'lucide-react';

// Main App component that renders the complete portfolio page.
export default function App() {
  const [isDarkMode, setIsDarkMode] = useState(false);
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  // Define resume data
  const resumeData = {
    name: 'Mahta Ghorbanian',
    contact: {
      email: 'mahtagho@gmail.com',
      // Phone number removed as requested
      location: 'Calgary, Canada',
      github: 'mahtagh.github.io/',
      linkedin: 'www.linkedin.com/in/mahta-ghorbanian/'
    },
    // Updated summary to match the previous version's About section
    summary: "I'm a Software Engineer with a background in Computer Science from University of Calgary and a Bachelor's degree in Computer Engineering. Currently, I'm working as a Software Engineer/Research Assistant at University of Calgary. I’m passionate about learning new technologies and collaborating on innovative solutions. I’m excited to grow as a developer, work on exciting projects, and be part of a team where we can share ideas and learn from each other. Outside of work, you’ll find me painting, hiking, or exploring new places. I'm always open to connecting with fellow tech enthusiasts, so feel free to reach out!",
    skills: {
      languages: ['C#', 'Java', 'Python', 'C', 'JavaScript', 'HTML', 'CSS'],
      technologies: ['Visual Studio', 'Eclipse', 'Git', 'GitHub', 'Jira', 'Android Studio', 'Django', 'React'],
      databases: ['SQL', 'MySQL', 'PostgreSQL'],
      methodologies: ['Agile', 'Object-Oriented Design (OOD)', 'UML'],
      testing: ['Unit Testing', 'Junit'],
      dataAnalysis: ['Tableau', 'Power BI', 'Excel'],
      other: ['Desktop Application Development', 'Debugging and Troubleshooting', 'Teamwork', 'Research']
    },
    professionalExperience: [
      {
        title: 'Software Engineer/Research Assistant',
        company: 'University of Calgary',
        duration: 'May 2022 - Present',
        description: 'Integrated a C# Windows application with a research project, improving project visibility. Developed an intuitive graph using Windows Forms, enhancing user interface usability. Created a feature to export data to Jira, streamlining project management processes. Collaborated with supervisors and industry partners to meet project goals efficiently. Identified and fixed code issues, leading to improved software quality and performance.',
        skills: 'C#, Visual Studio .Net Framework, Windows Forms, Git, Jira',
      },
      {
        title: 'Teaching Assistant',
        company: 'University of Calgary',
        duration: 'September 2021 – April 2024',
        description: 'Taught courses on "Introduction to Software Engineering" and "Thinking with Data". Helped over 100 students learn UML, Java, and data visualization tools. Worked with professors to align tutorial content with lecture materials.',
        skills: 'UML, Testing, JUnit, Java, Git, Trello, Eclipse, Tableau, Power BI, Excel',
      },
    ],
    projects: [
      {
        title: 'A Study on Deprecated APIs',
        description: 'Developed a program to analyze deprecated API usage in 40 Java projects. Used Java, Python, and Git for development and version control. Provided insights to help project owners improve their codebases.',
      },
      {
        title: 'Rocket-App',
        description: 'Developed an Android app that displays a paginated list of upcoming rocket launches. Built a real-time countdown timer to show the remaining time until the next launch. Tools Used: Android Studio, Kotlin.',
      },
      {
        title: 'Smart House Android App',
        description: 'Developed functionality for receiving data from smart home modules. Implemented a system to control lighting in a smart home environment. Tools Used: Java, Android Studio.',
      },
      {
        title: 'Bombs and Stars Game',
        description: 'Designed and created an interactive game with user-controlled characters. Used Java Swing to build an engaging and responsive user interface. Tools Used: Java, Java Swing.',
      },
    ],
    education: [
      {
        degree: 'M.Sc. Computer Science',
        university: 'University of Calgary',
        years: '2021-2025',
        relevantCourses: ['Fundamentals of Social Network Analysis and Data Mining', 'Software Evolution & Reuse'],
      },
      {
        degree: 'B.Sc. Software Engineering',
        university: 'Ferdowsi University',
        years: '2015-2020',
        relevantCourses: ['Data Structures', 'Object-Oriented Programming', 'Database Systems'],
      },
    ]
  };

  const toggleDarkMode = () => setIsDarkMode(!isDarkMode);

  // Replicating the old portfolio's styles with Tailwind CSS
  const frauncesFont = "font-['Fraunces']";
  const timesNewRomanFont = "font-['Times_New_Roman']";
  const accentColor = 'text-[#295BA7]';
  const spanColor = 'text-[#E1528F]';
  const headerBgColor = 'bg-[#d8eefc]';
  const bodyBgColor = 'bg-[#E0F9B5]';
  const aboutBgColor = 'bg-[#FEFDCA]';

  return (
    <div className={`${isDarkMode ? 'bg-gray-900 text-gray-200' : `${bodyBgColor} text-gray-800`} ${timesNewRomanFont} transition-colors duration-500 min-h-screen flex flex-col items-center`}>
      {/* Font imports and other head-like elements */}
      <style>
        {`
          @import url('https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css');
          @import url('https://fonts.googleapis.com/css2?family=Fraunces:opsz@9..144&family=Roboto:wght@400&display=swap');
          @import url('https://pro.fontawesome.com/releases/v5.2.0/css/all.css');
          
          html {
            scroll-behavior: smooth;
          }
        `}
      </style>

      {/* Header and Navigation */}
      <header className={`w-full sticky top-0 z-50 ${isDarkMode ? 'bg-gray-800' : headerBgColor}`}>
        <nav className="flex items-center justify-between h-[65px] px-8 sm:px-12 md:px-24">
          <div className="flex items-center space-x-2">
            <h2 className={`text-[2.5rem] font-bold ${isDarkMode ? 'text-white' : 'text-black'} flex items-center`}>
              {/* Placeholder for the logo image */}
              <div className="w-10 h-10 rounded-full bg-gray-400 mr-2 flex-shrink-0"></div>
              Mahta Ghorbanian
            </h2>
          </div>
          <div className="md:hidden">
            <button
              onClick={() => setIsMenuOpen(!isMenuOpen)}
              className="p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
            >
              <div className={`w-6 h-1 rounded-sm bg-black dark:bg-white transition-transform duration-300 ${isMenuOpen ? 'rotate-45 translate-y-[0.375rem]' : ''}`}></div>
              <div className={`w-6 h-1 rounded-sm bg-black dark:bg-white my-1 transition-opacity duration-300 ${isMenuOpen ? 'opacity-0' : 'opacity-100'}`}></div>
              <div className={`w-6 h-1 rounded-sm bg-black dark:bg-white transition-transform duration-300 ${isMenuOpen ? '-rotate-45 -translate-y-[0.375rem]' : ''}`}></div>
            </button>
          </div>
          <ul className={`md:flex items-center space-x-8 text-xl font-bold transition-all duration-500 md:static md:bg-transparent ${isMenuOpen ? 'absolute top-[65px] left-0 w-full flex-col bg-gray-200 dark:bg-gray-700 shadow-md' : 'hidden'}`}>
            {['Home', 'About', 'Skills', 'Experience', 'Projects', 'Contact me'].map(item => (
              <li key={item} className={`p-4 md:p-0 hover:scale-110 transition-transform`}>
                <a href={`#${item.toLowerCase().replace(' ', '-')}`} className={`${accentColor} hover:${accentColor} hover:underline`}>
                  {item}
                </a>
              </li>
            ))}
          </ul>
        </nav>
      </header>

      {/* Toggle Dark Mode Button */}
      <button
        onClick={toggleDarkMode}
        className="fixed top-4 right-4 p-2 rounded-full bg-white dark:bg-gray-800 shadow-md text-gray-800 dark:text-gray-200 transition-transform transform hover:scale-110 z-[100]"
        aria-label="Toggle dark mode"
      >
        {isDarkMode ? <Sun className="w-5 h-5" /> : <Moon className="w-5 h-5" />}
      </button>

      <main className="w-full max-w-7xl mx-auto">
        {/* Welcome Section */}
        <section id="home" className={`flex flex-col md:flex-row items-center justify-between p-8 sm:p-12 md:p-24 min-h-[calc(100vh-65px)] ${isDarkMode ? 'bg-gray-900' : 'bg-white'}`}>
          <div className="flex-1 flex flex-col justify-center text-center md:text-left">
            <h4 className={`${frauncesFont} text-3xl font-normal ${isDarkMode ? 'text-white' : 'text-black'}`}>Hello! I'm</h4>
            <h1 className="text-5xl sm:text-7xl font-extrabold my-4 tracking-wider">
              M<span className={`${isDarkMode ? 'text-white' : 'text-black'}`}>a</span>h<span className={spanColor}>t</span>a <span className={`${isDarkMode ? 'text-white' : 'text-black'}`}>Gho</span>rban<span className={spanColor}>ian</span>
            </h1>
            <h2 className={`text-2xl sm:text-4xl font-normal ${isDarkMode ? 'text-white' : 'text-black'}`}>A Software Engineer.</h2>
            <h3 className={`text-lg sm:text-2xl font-normal mt-4 ${isDarkMode ? 'text-white' : 'text-black'}`}><span className={`${isDarkMode ? 'text-white' : 'text-black'}`}>Welcome</span> to my <span className={`${isDarkMode ? 'text-white' : 'text-black'}`}>Portfolio!</span></h3>
          </div>
          <div className="flex-1 max-w-md md:max-w-xl mt-8 md:mt-0">
            {/* Placeholder for the developer image */}
            <div className="w-full h-auto aspect-square rounded-3xl bg-gray-400 animate-[float_3s_linear_infinite] shadow-2xl"></div>
          </div>
        </section>

        {/* About Section */}
        <section id="about" className={`w-full p-8 sm:p-12 md:p-24 flex flex-col md:flex-row items-center justify-center ${isDarkMode ? 'bg-gray-800' : aboutBgColor}`}>
          <div className="w-full md:w-1/2 flex justify-center mb-8 md:mb-0">
            {/* Placeholder for the about image */}
            <div className="w-[400px] h-[400px] rounded-[30px] bg-gray-500 shadow-xl flex-shrink-0"></div>
          </div>
          <div className="w-full md:w-1/2 md:pl-16 text-center md:text-left">
            <h2 className={`${accentColor} text-4xl font-bold mb-4 ${frauncesFont}`}>About Me</h2>
            <h5 className="text-2xl font-bold mb-6">Software Engineer</h5>
            <p className="text-lg leading-relaxed mb-6">{resumeData.summary}</p>
            <p className={`${accentColor} font-bold text-lg`}>
              Contact Me:
              <a href={`mailto:${resumeData.contact.email}`} title={resumeData.contact.email} className="ml-4 mr-2">
                <i className="bi bi-envelope-fill"></i>
              </a>
              <a href={`https://${resumeData.contact.linkedin}`} target="_blank" rel="noopener noreferrer" title="LinkedIn: Mahta Ghorbanian" className="mr-2">
                <i className="fab fa-linkedin-in"></i>
              </a>
            </p>
          </div>
        </section>
        
        {/* Skills Section */}
        <section id="skills" className={`p-8 sm:p-12 md:p-24 ${isDarkMode ? 'bg-gray-900' : 'bg-white'}`}>
          <h2 className={`relative text-center text-4xl font-bold mb-12 pb-5 ${accentColor} ${frauncesFont} after:content-[''] after:absolute after:bottom-0 after:left-1/2 after:w-48 after:h-[3px] after:bg-black after:-translate-x-1/2`}>
            Key Skills
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {Object.keys(resumeData.skills).map((category) => (
              <div key={category} className="p-6 bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md transition-shadow hover:shadow-xl">
                <h3 className="text-xl font-bold mb-3 capitalize text-gray-800 dark:text-gray-100">{category.replace(/([A-Z])/g, ' $1')}</h3>
                <ul className="list-disc ml-5 text-gray-600 dark:text-gray-300 space-y-1">
                  {resumeData.skills[category].map((skill) => (
                    <li key={skill}>{skill}</li>
                  ))}
                </ul>
              </div>
            ))}
          </div>
        </section>

        {/* Experience Section */}
        <section id="experience" className={`p-8 sm:p-12 md:p-24 ${isDarkMode ? 'bg-gray-800' : bodyBgColor}`}>
          <h2 className={`relative text-center text-4xl font-bold mb-12 pb-5 ${accentColor} ${frauncesFont} after:content-[''] after:absolute after:bottom-0 after:left-1/2 after:w-48 after:h-[3px] after:bg-black after:-translate-x-1/2`}>
            Experience
          </h2>
          <div className="space-y-12">
            {resumeData.professionalExperience.map((job, index) => (
              <div key={index} className="relative pl-6 before:content-[''] before:absolute before:left-0 before:top-2 before:w-2 before:h-2 before:bg-[#E1528F] before:rounded-full before:ring-2 before:ring-[#E1528F] dark:before:ring-gray-800 before:z-10 before:shadow-md">
                <h3 className="text-xl font-bold text-gray-800 dark:text-gray-100">{job.title}</h3>
                <p className="text-sm font-semibold text-gray-600 dark:text-gray-400">{job.company} &bull; <span className="font-normal">{job.duration}</span></p>
                <p className="mt-2 text-gray-600 dark:text-gray-300 leading-snug">{job.description}</p>
                {job.skills && (
                  <p className="mt-2 text-sm text-gray-500 dark:text-gray-400">
                    <span className="font-semibold text-gray-600 dark:text-gray-300">Skills:</span> {job.skills}
                  </p>
                )}
              </div>
            ))}
          </div>
        </section>

        {/* Projects Section */}
        <section id="projects" className={`p-8 sm:p-12 md:p-24 ${isDarkMode ? 'bg-gray-900' : aboutBgColor}`}>
          <h2 className={`relative text-center text-4xl font-bold mb-12 pb-5 ${accentColor} ${frauncesFont} after:content-[''] after:absolute after:bottom-0 after:left-1/2 after:w-48 after:h-[3px] after:bg-black after:-translate-x-1/2`}>
            Projects
          </h2>
          <div className="space-y-12">
            {resumeData.projects.map((project, index) => (
              <div key={index} className="relative pl-6 before:content-[''] before:absolute before:left-0 before:top-2 before:w-2 before:h-2 before:bg-[#E1528F] before:rounded-full before:ring-2 before:ring-[#E1528F] dark:before:ring-gray-800 before:z-10 before:shadow-md">
                <h3 className="text-xl font-bold text-gray-800 dark:text-gray-100">{project.title}</h3>
                <p className="mt-2 text-gray-600 dark:text-gray-300 leading-snug">{project.description}</p>
              </div>
            ))}
          </div>
        </section>

        {/* Education Section */}
        <section id="education" className={`p-8 sm:p-12 md:p-24 ${isDarkMode ? 'bg-gray-800' : bodyBgColor}`}>
          <h2 className={`relative text-center text-4xl font-bold mb-12 pb-5 ${accentColor} ${frauncesFont} after:content-[''] after:absolute after:bottom-0 after:left-1/2 after:w-48 after:h-[3px] after:bg-black after:-translate-x-1/2`}>
            Education
          </h2>
          <div className="space-y-12">
            {resumeData.education.map((edu, index) => (
              <div key={index} className="relative pl-6 before:content-[''] before:absolute before:left-0 before:top-2 before:w-2 before:h-2 before:bg-[#E1528F] before:rounded-full before:ring-2 before:ring-[#E1528F] dark:before:ring-gray-800 before:z-10 before:shadow-md">
                <h3 className="text-xl font-bold text-gray-800 dark:text-gray-100">{edu.degree}</h3>
                <p className="text-sm font-semibold text-gray-600 dark:text-gray-400">{edu.university} &bull; <span className="font-normal">{edu.years}</span></p>
                {edu.relevantCourses && (
                  <p className="mt-2 text-sm text-gray-500 dark:text-gray-400">
                    <span className="font-semibold text-gray-600 dark:text-gray-300">Relevant Courses:</span> {edu.relevantCourses.join(', ')}
                  </p>
                )}
              </div>
            ))}
          </div>
        </section>

        {/* Contact Section */}
        <section id="contact-me" className={`p-8 sm:p-12 md:p-24 ${isDarkMode ? 'bg-gray-900' : 'bg-white'}`}>
          <h2 className={`relative text-center text-4xl font-bold mb-12 pb-5 ${accentColor} ${frauncesFont} after:content-[''] after:absolute after:bottom-0 after:left-1/2 after:w-48 after:h-[3px] after:bg-black after:-translate-x-1/2`}>
            Contact Me
          </h2>
          <div className="max-w-2xl mx-auto p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl">
            <p className="text-lg text-center text-gray-600 dark:text-gray-300 leading-relaxed mb-6">
              Thank you for taking the time to explore my portfolio. If you have any questions or need further information, please don't hesitate to contact me.
            </p>
            <div className="flex justify-center space-x-6 mt-4 text-xl">
              <a href={`mailto:${resumeData.contact.email}`} className={`${accentColor} hover:underline flex items-center`}>
                <Mail className="w-5 h-5 mr-2" />
                <span>{resumeData.contact.email}</span>
              </a>
              <a href={`https://${resumeData.contact.linkedin}`} target="_blank" rel="noopener noreferrer" className={`${accentColor} hover:underline flex items-center`}>
                <Linkedin className="w-5 h-5 mr-2" />
                <span>LinkedIn</span>
              </a>
            </div>
          </div>
        </section>

      </main>
    </div>
  );
}

